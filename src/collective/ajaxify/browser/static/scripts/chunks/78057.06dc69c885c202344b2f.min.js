"use strict";(self.webpackChunkcollective_ajaxify=self.webpackChunkcollective_ajaxify||[]).push([[78057],{78057:function(t,e,n){n.r(e),n.d(e,{default:function(){return c}});var i=n(35686),r=n.n(i),o=n(53902);class c{constructor(t){this.el=t,this.SKIP_OVERLAY_ACTIONS=["plone.actions.Delete"]}init(){let t=this;r()("#configure-conditions .rule-element input, #configure-actions .rule-element input").off("click").on("click",t=>{const e=r()(t.currentTarget);var n=e.attr("name");if("form.button.EditCondition"==n||"form.button.EditAction"==n)return!0;r()("#spinner").show();var i=e.parents("form").first(),o=i.parents("fieldset").first(),c=i.serialize()+"&"+n+"=1",a=i.attr("action");return r().post(a,c,t=>{var e=r()(t).find("#"+o.attr("id"));o.replaceWith(e),this.init(),r()("#spinner").hide()}),!1}),r()('input[name="form.button.AddCondition"],input[name="form.button.AddAction"]').off("click").on("click",e=>{const n=e.currentTarget;for(var i=r()(n).parent().parent(),c=i.serialize(),a=0;a<t.SKIP_OVERLAY_ACTIONS.length;a++)if(-1!==c.indexOf(t.SKIP_OVERLAY_ACTIONS[a]))return;e.preventDefault();var s=i.attr("action")+"?"+c,f=r()('<a href="'+s+'" />').css("display","none");f.insertAfter(n),new o.A(f,{actionOptions:{isForm:!0,redirectOnResponse:!0,redirectToUrl:()=>window.location.href}}),f.trigger("click")})}}}}]);
//# sourceMappingURL=78057.06dc69c885c202344b2f.min.js.map