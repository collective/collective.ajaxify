{"version":3,"file":"chunks/454.dff02f2751a037c5d010.min.js","mappings":"sIAKA,MAAMA,UAAgBC,EAAAA,EAClBC,YAAc,eACdA,eAAiB,OAEjBC,IAAAA,GACIC,EAAAA,EAAOC,mBACHC,OAAOC,WACP,WACA,qBACAC,KAAKC,aAAaC,KAAKF,MAE/B,CAEAC,YAAAA,GACIE,SAASC,KAAKC,QAAQC,QAAUR,OAAOS,SAASC,IACpD,EAGJC,EAAAA,EAASC,SAASlB,GClBlBiB,EAAAA,EAASE,SAASC,OAAOC,QACrB,wBAAwBf,OAAOS,SAASO,6PAuB5CL,EAAAA,EAASd,OAMTc,EAAAA,EAASM,KAAKZ,SAASC,KAAM,CAAC,U","sources":["webpack://thet.spa/./resources/base_url.js","webpack://thet.spa/./resources/bundle.js"],"sourcesContent":["// Set the base URL based on the current location, listening on navigation changes.\nimport { BasePattern } from \"@patternslib/patternslib/src/core/basepattern\";\nimport registry from \"@patternslib/patternslib/src/core/registry\";\nimport events from \"@patternslib/patternslib/src/core/events\";\n\nclass Pattern extends BasePattern {\n    static name = \"pat-base-url\";\n    static trigger = \"body\";\n\n    init() {\n        events.add_event_listener(\n            window.navigation,\n            \"navigate\",\n            \"thet-base-url--set\",\n            this.set_base_url.bind(this)\n        );\n    }\n\n    set_base_url() {\n        document.body.dataset.baseUrl = window.location.href;\n    }\n}\n\nregistry.register(Pattern);\nexport default Pattern;\nexport { Pattern };\n","import registry from \"@patternslib/patternslib/src/core/registry\";\nimport \"./base_url\";\n\n// Add a new trigger for the inject pattern.\n// NOTE: This is an important trigger, triggering all child anchors from the current domain!\nregistry.patterns.inject.trigger =\n    `.pat-inject a[href^=\"${window.location.origin}\"]`\n    // Don't inject files.\n    + `:not([href*=\"@@download\"])`\n    + `:not([href$=zip])`\n    + `:not([href$=pdf])`\n    + `:not([href$=mp3])`\n    + `:not([href$=wav])`\n    + `:not([href$=jpg])`\n    + `:not([href$=webp])`\n    + `:not([href$=png])`\n    + `:not([href$=txt])`\n    // Don't inject dropdown \"buttons\"\n    + `:not(.dropdown-toggle)`\n    // Don't inject on the autotoc tab headings.\n    + `:not([id^=\"autotoc\"])`\n    // Don't handle explicitly set pat-inject elements.\n    + `:not(.pat-inject)`\n    // Stop global injection when explicitly asked. You can still explicitly\n    // set pat-inject on these elements.\n    + `:not(.stop-pattern)`\n;\n\n\nregistry.init();\n\n// Re-scan the DOM for our modified inject pattern.\n// Scanning might have been done at a previous `registry.init` call from another\n// MF bundle, so we need to re-scan for our modified trigger.\n// TODO: Add a hook to modify the trigger before the first scan?\nregistry.scan(document.body, [\"inject\"]);\n"],"names":["Pattern","BasePattern","static","init","events","add_event_listener","window","navigation","this","set_base_url","bind","document","body","dataset","baseUrl","location","href","registry","register","patterns","inject","trigger","origin","scan"],"sourceRoot":""}